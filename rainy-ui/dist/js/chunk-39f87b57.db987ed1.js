(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39f87b57"],{"5c9a":function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=this,n=e.$createElement,c=e._self._c||n;return c("a-modal",{attrs:{title:"分配角色",width:800,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:!0},on:{ok:e.handleOk,cancel:e.handleCancel}},[c("s-table",{staticClass:"role-assign",attrs:{loading:e.tableLoading,rowKey:function(t){return t.id},alert:{show:!0,clear:function(){t.selectedRowKeys=[]}},columns:e.columns,data:e.loadData,"row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.handleChange},showPagination:!0}})],1)},o=[],a=(n("d3b7"),n("2af9")),r=n("cc5e"),i=n("c24f"),s={name:"RoleAssign",components:{STable:a["m"]},data:function(){return{visible:!1,confirmLoading:!1,tableLoading:!1,columns:[{title:"角色名称",dataIndex:"name"},{title:"角色编码",dataIndex:"code"},{title:"描述",dataIndex:"description"}],loadData:function(t){return Object(r["g"])(Object.assign(t,{})).then((function(t){return t}))},selectedRowKeys:[],record:{}}},methods:{open:function(t){this.record=t,this.visible=!0,this.getRoleIds()},handleChange:function(t){this.selectedRowKeys=t},getRoleIds:function(){var t=this;Object(i["f"])(this.record.id).then((function(e){t.selectedRowKeys=e.data}))},handleOk:function(){var t=this;this.confirmLoading=!0,Object(i["b"])(this.record.id,this.selectedRowKeys).then((function(e){e.success?(t.$message.success("分配成功"),t.handleCancel()):t.$message.error("分配失败："+e.message)})).finally((function(){t.confirmLoading=!1}))},handleCancel:function(){this.visible=!1,this.confirmLoading=!1,this.formLoading=!1,this.selectedRowKeys=[]}}},d=s,u=(n("df9d"),n("2877")),l=Object(u["a"])(d,c,o,!1,null,null,null);e["default"]=l.exports},"7ea5":function(t,e,n){},c24f:function(t,e,n){"use strict";n.d(e,"g",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"h",(function(){return h}));n("99af");var c=n("b775"),o={List:"/users",Update:"/user",BatchDel:"/users"};function a(t){return Object(c["b"])({url:o.List,method:"get",params:t})}function r(t){return Object(c["b"])({url:o.Update,method:"POST",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function i(t){return Object(c["b"])({url:"".concat(o.Update,"/").concat(t),method:"delete"})}function s(t){return Object(c["b"])({url:o.BatchDel,method:"delete",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(t){return Object(c["b"])({url:o.Update,method:"PUT",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(t){return Object(c["b"])({url:"".concat(o.Update,"/").concat(t,"/roleIds"),method:"GET"})}function l(t,e){return Object(c["b"])({url:"".concat(o.Update,"/").concat(t,"/roles"),method:"POST",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(t){return Object(c["b"])({url:"".concat(o.Update,"/").concat(t,"/password/reset"),method:"put"})}},cc5e:function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return d})),n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return l}));n("99af");var c=n("b775"),o={List:"/roles",Update:"/role",BatchDel:"/roles"};function a(t){return Object(c["b"])({url:"".concat(o.Update,"/").concat(t,"/menuIds"),method:"get"})}function r(t){return Object(c["b"])({url:o.List,method:"get",params:t})}function i(t){return Object(c["b"])({url:o.Update,method:"POST",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(t){return Object(c["b"])({url:"".concat(o.Update,"/").concat(t),method:"delete"})}function d(t){return Object(c["b"])({url:o.BatchDel,method:"delete",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(t){return Object(c["b"])({url:o.Update,method:"PUT",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(t,e){return Object(c["b"])({url:"".concat(o.Update,"/").concat(t,"/menus"),method:"POST",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},df9d:function(t,e,n){"use strict";n("7ea5")}}]);